(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[309],{1747:(e,s,r)=>{"use strict";r.d(s,{kh:()=>o,mp:()=>a,zQ:()=>n});var t=r(8502);let a=async()=>{try{let{data:e,error:s}=await t.ND.from(t.CG.YOUTUBE_CONFIG).select("*").single();if(s)return console.error("Error fetching YouTube config:",s),{success:!1,error:s.message};return{success:!0,data:e}}catch(e){return console.error("Failed to fetch YouTube config:",e),{success:!1,error:e.message}}},n=async(e,s)=>{try{let{data:r,error:a}=await t.ND.from(t.CG.YOUTUBE_CONFIG).upsert([{[t.ne.API_KEY]:e,[t.ne.CHANNEL_ID]:s,[t.ne.UPDATED_AT]:new Date().toISOString()}]).select();if(a)throw console.error("Error updating YouTube config:",a),a;return{success:!0,data:r}}catch(e){return console.error("Failed to update YouTube config:",e),{success:!1,error:e.message}}},o=async()=>{try{let e="AIzaSyDBxM4fFwjFhOzGY3vgsgCdrEEBC5__9H0",s="UCIrG7ivUCxVMN5DnzbbctLg";if(!e||!s)return{success:!1,error:"YouTube API configuration not found"};let r=await fetch("https://www.googleapis.com/youtube/v3/search?part=snippet&channelId=".concat(s,"&maxResults=1&order=date&type=video&key=").concat(e));if(!r.ok)throw Error("YouTube API error: ".concat(r.status));let t=await r.json();if(t.items&&t.items.length>0)return{success:!0,video:t.items[0]};return{success:!1,error:"No videos found"}}catch(e){return console.error("Failed to fetch latest YouTube video:",e),{success:!1,error:e.message}}}},4150:(e,s,r)=>{"use strict";r.d(s,{q:()=>t,r:()=>a});let t=async e=>{try{let{data:s,error:r}=await supabase.from(TABLES.FORM_RESPONSES).insert([{[FORM_FIELDS.BUSINESS_FOCUS]:e.businessFocus,[FORM_FIELDS.WEEKLY_LEADS]:parseInt(e.weeklyLeads)||0,[FORM_FIELDS.AI_AGENT]:e.aiAgent,[FORM_FIELDS.MONTHLY_BUDGET]:e.monthlyBudget,[FORM_FIELDS.CREATED_AT]:new Date().toISOString()}]).select();if(r)throw console.error("Error submitting form:",r),r;return{success:!0,data:s}}catch(e){return console.error("Form submission failed:",e),{success:!1,error:e.message}}},a=async()=>{try{let{data:e,error:s}=await supabase.from(TABLES.FORM_RESPONSES).select("*").order("created_at",{ascending:!1});if(s)throw console.error("Error fetching form responses:",s),s;return{success:!0,data:e}}catch(e){return console.error("Failed to fetch form responses:",e),{success:!1,error:e.message}}}},7808:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>d});var t=r(7876),a=r(7328),n=r.n(a),o=r(4232),c=r(6848),i=r(1747),l=r(4150);function d(){let[e,s]=(0,o.useState)({api_key:"",channel_id:""}),[r,a]=(0,o.useState)([]),[d,u]=(0,o.useState)(!1),[m,h]=(0,o.useState)("");(0,o.useEffect)(()=>{y()},[]);let y=async()=>{u(!0);let e=await (0,i.mp)();e.success&&s(e.data||{api_key:"",channel_id:""});let r=await (0,l.r)();r.success&&a(r.data||[]),u(!1)},g=async s=>{s.preventDefault(),u(!0),h("");let r=await (0,i.zQ)(e.api_key,e.channel_id);r.success?h("YouTube configuration updated successfully!"):h("Error: ".concat(r.error)),u(!1)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n(),{children:[(0,t.jsx)("title",{children:"Admin Dashboard - Dan Talks AI"}),(0,t.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,t.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap",rel:"stylesheet"})]}),(0,t.jsx)("main",{className:"bg-black text-white min-h-screen font-['Inter'] p-8",children:(0,t.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,t.jsx)(c.P.h1,{className:"text-4xl md:text-6xl font-bold mb-12 text-cyan-400",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:"Admin Dashboard"}),m&&(0,t.jsx)(c.P.div,{className:"p-4 rounded-lg mb-6 ".concat(m.includes("Error")?"bg-red-900/50 border border-red-500":"bg-green-900/50 border border-green-500"),initial:{opacity:0},animate:{opacity:1},children:m}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,t.jsxs)(c.P.div,{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl border border-gray-700",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-6 text-cyan-400",children:"YouTube Configuration"}),(0,t.jsxs)("form",{onSubmit:g,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"YouTube API Key"}),(0,t.jsx)("input",{type:"password",value:e.api_key,onChange:e=>s(s=>({...s,api_key:e.target.value})),className:"w-full px-4 py-3 rounded-lg bg-gray-700 border border-gray-600 text-white placeholder-gray-400 focus:border-cyan-500 focus:outline-none",placeholder:"Enter your YouTube API key"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Channel ID"}),(0,t.jsx)("input",{type:"text",value:e.channel_id,onChange:e=>s(s=>({...s,channel_id:e.target.value})),className:"w-full px-4 py-3 rounded-lg bg-gray-700 border border-gray-600 text-white placeholder-gray-400 focus:border-cyan-500 focus:outline-none",placeholder:"Enter your YouTube channel ID"})]}),(0,t.jsx)(c.P.button,{type:"submit",disabled:d,className:"w-full bg-cyan-500 hover:bg-cyan-600 disabled:bg-gray-600 text-black px-6 py-3 rounded-lg font-semibold transition-all duration-300",whileHover:{scale:1.02},whileTap:{scale:.98},children:d?"Saving...":"Save Configuration"})]})]}),(0,t.jsxs)(c.P.div,{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl border border-gray-700",initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.6,delay:.4},children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold mb-6 text-cyan-400",children:["Form Responses (",r.length,")"]}),(0,t.jsxs)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[r.map((e,s)=>(0,t.jsxs)("div",{className:"bg-gray-700/50 p-4 rounded-lg border border-gray-600",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-cyan-400 font-semibold",children:"Business:"})," ",e.business_focus]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-cyan-400 font-semibold",children:"Leads:"})," ",e.weekly_leads]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-cyan-400 font-semibold",children:"AI Agent:"})," ",e.ai_agent]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-cyan-400 font-semibold",children:"Budget:"})," ",e.monthly_budget]})]}),(0,t.jsx)("div",{className:"text-xs text-gray-400 mt-2",children:new Date(e.created_at).toLocaleDateString()})]},s)),0===r.length&&(0,t.jsx)("p",{className:"text-gray-400 text-center py-8",children:"No form responses yet."})]})]})]})]})})]})}},8210:(e,s,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return r(7808)}])},8502:(e,s,r)=>{"use strict";r.d(s,{CG:()=>a,ND:()=>t,ne:()=>n});let t=(0,r(3595).UU)("https://prxioffyzjmygsliuabt.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InByeGlvZmZ5emJteWdzbGl1YWJ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ0MzUyNDksImV4cCI6MjA3MDAxMTI0OX0.7DvL23VV5yvySRRJ92-XSjk6ECBxzSuYrjQ9HK9Da2w"),a={FORM_RESPONSES:"form_responses",BLOG_POSTS:"blog_posts",YOUTUBE_CONFIG:"youtube_config"},n={API_KEY:"api_key",CHANNEL_ID:"channel_id",UPDATED_AT:"updated_at"}}},e=>{e.O(0,[848,595,636,593,792],()=>e(e.s=8210)),_N_E=e.O()}]);